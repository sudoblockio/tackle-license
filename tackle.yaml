
<-:
  help: Create a license file

  output:
    type: str
    description: The output directory to put a `LICENSE` file
    default->: input Which directory to generate the license file?

  license_file_name:
    type: str
    default: LICENSE
    description: The name of the license file

  license_type:
    type: str
    default:
      ->: select
      choices:
        - Apache 2.0: apache
        - MIT: mit
        - GPL Version 3: gpl-v3
        - BSD Version 3: bsd
        - Closed source: closed-source

  author:
    type: str
    default: ""
  start_date:
    type: str
    default: ""
  end_date:
    type: str
    default: ""

  exec:
    author:
      ->: input Who are the license holders
      if: author == '' and license_type in ['mit','bsd','apache']

    start_date:
      ->: input What year to start the license from --default 2021
      if: start_date == '' and license_type == 'bsd'

    end_date:
      ->: input What year to end the license (is perpetual basically so don't fret) --default {{date_now("%Y")|string}}
      if: end_date == '' and license_type in ['bsd','apache']

    date:
      ->: date_now "%B %Y"
      if: license_type in ['closed-source']

    gen_>: generate {{path_join(['templates',join([license_type,'.txt'])])}} {{path_join([output,'LICENSE'])}}
